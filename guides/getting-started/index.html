<!DOCTYPE html>
<html>
	<head>
		
			<title>Getting Started</title>
		
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		
		<link rel="icon" type="image/png" href="../../_static/icon.png"/>
		<link rel="stylesheet" href="../../_static/site.css" type="text/css" media="screen"/>
		
		<script src="../../_components/jquery/jquery.min.js"></script>
		<script src="../../_components/jquery-syntax/jquery.syntax.min.js"></script>
		
		<script src="../../_static/links.js"></script>
		
		<script type="text/javascript">
		//<![CDATA[
			jQuery(function($) {
				$.syntax();
			});
		//]]>
		</script>
	</head>

	<body>
		<header> › <a class="link" href="../../index.html">Project</a> › <a class="link" href="../index.html">Guides</a></header>
		
		<main>
			
	<h1>Getting Started</h1>
	
	<p>This guide explains how to use <code>localhost</code> for provisioning local TLS certificates for development.</p>
<section id="installation"><h2>Installation</h2>
<p>Add the gem to your project:</p>
<pre><code class="language-bash">$ bundle add localhost
</code></pre>
</section><section id="core-concepts"><h2>Core Concepts</h2>
<p><code>localhost</code> has one core concept:</p>
<ul>
<li>A <a href="../../source/Localhost/Authority/index.html" title="Localhost::Authority"><code class="language-ruby">class Localhost::Authority</code></a> instance which represents a public and private key pair that can be used for both clients and servers.</li>
</ul>
</section><section id="files"><h3>Files</h3>
<p>The certificate and private key are stored in <code>~/.localhost/</code>. You can delete them and they will be regenerated. If you added the certificate to your computer's certificate store/keychain, you'll you'd need to update it.</p>
</section><section id="usage"><h2>Usage</h2>
<p>In general, you won't need to do anything at all. The application server you are using will automatically provision a self-signed certificate for localhost. That being said, if you want to implement your own self-signed secure server, the following example demonstrates how to use the <a href="../../source/Localhost/Authority/index.html" title="Localhost::Authority"><code class="language-ruby">class Localhost::Authority</code></a>:</p>
<pre><code class="language-ruby">require 'socket'
require 'thread'

require 'localhost/authority'

# Get the self-signed authority for localhost:
authority = Localhost::Authority.fetch

ready = Thread::Queue.new

# Start a server thread:
server_thread = Thread.new do
	server = OpenSSL::SSL::SSLServer.new(TCPServer.new(&quot;localhost&quot;, 4050), authority.server_context)
	
	server.listen
	
	ready &lt;&lt; true
	
	peer = server.accept
	
	peer.puts &quot;Hello World!&quot;
	peer.flush
	
	peer.close
end

ready.pop

client = OpenSSL::SSL::SSLSocket.new(TCPSocket.new(&quot;localhost&quot;, 4050), authority.client_context)

# Initialize SSL connection:
client.connect

# Read the encrypted message:
puts client.read(12)

client.close
server_thread.join
</code></pre>
</section>
				
			<footer>Documentation generated by <a href="https://github.com/socketry/utopia-project">Utopia::Project</a>.</footer>
		</main>
	</body>
</html>